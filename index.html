

<!DOCTYPE html>
<html>
<head>
  <title>My Website</title>
  <link rel="manifest" href="manifest.json">
  <script>
    if(!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){
       // Redirect or display a message for desktop users
       window.location = "https://example.com/mobile-only-page";
    }
  </script>
</head>
<body>
  <h1>Welcome to my website</h1>
  
  <button id="add-to-home-screen" style="display:none;">Add to Home Screen</button>
  
  <script>
    let deferredPrompt;
    const addToHomeScreenButton = document.getElementById('add-to-home-screen');
    
    window.addEventListener('beforeinstallprompt', (e) => {
      // Prevent Chrome 67 and earlier from showing the prompt automatically
      e.preventDefault();
      // Stash the event so it can be triggered later.
      deferredPrompt = e;
      // Show the button
      addToHomeScreenButton.style.display = 'block';
    });

    addToHomeScreenButton.addEventListener('click', (e) => {
      // Hide the button
      addToHomeScreenButton.style.display = 'none';
      // Show the prompt
      deferredPrompt.prompt();
      // Wait for the user to respond to the prompt
      deferredPrompt.userChoice.then((choiceResult) => {
        if (choiceResult.outcome === 'accepted') {
          console.log('User accepted the A2HS prompt');
        } else {
          console.log('User dismissed the A2HS prompt');
        }
        deferredPrompt = null;
      });
    });
    
    window.addEventListener('appinstalled', (evt) => {
      console.log('App was installed.', evt);
    });
  </script>
</body>
</html>
